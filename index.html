<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rodolfo Felipe Pineda Mejía — CV Interactivo</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<!-- Lenis (smooth scroll) -->
<script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.27/bundled/lenis.min.js"></script>

<style>
  :root{
    --bg-light: #f5f7fb;
    --card-light: rgba(255,255,255,0.95);
    --text-light: #0b1a2b;
    --muted-light: #556272;
    --accent: #2b8cff;

    --bg-dark: #071023;
    --card-dark: rgba(255,255,255,0.04);
    --text-dark: #e6eef8;
    --muted-dark: #97a0b9;
  }

  [data-theme="light"]{
    --bg: var(--bg-light);
    --card: var(--card-light);
    --text: var(--text-light);
    --muted: var(--muted-light);
    --glass: rgba(255,255,255,0.7);
    --nav-bg: rgba(255,255,255,0.8);
  }
  [data-theme="dark"]{
    --bg: var(--bg-dark);
    --card: var(--card-dark);
    --text: var(--text-dark);
    --muted: var(--muted-dark);
    --glass: rgba(255,255,255,0.03);
    --nav-bg: rgba(7,16,35,0.5);
  }

  /* Base */
  html,body{height:100%; margin:0; background:var(--bg); color:var(--text); font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; -webkit-font-smoothing:antialiased;}
  a{color:inherit}
  .container{max-width:1100px; margin:0 auto; padding:28px 20px 80px;}

  /* Parallax layers (fixed) */
  .parallax-layer{
    position:fixed; left:50%; top:50%; transform:translate(-50%,-50%); width:150%; height:150%; z-index:-10; pointer-events:none; background-position:center; background-size:cover; will-change:transform; opacity:0.42; filter:contrast(0.9) saturate(0.9);
  }
  .parallax-layer.l1{background-image:url('https://plus.unsplash.com/premium_photo-1661877737564-3dfd7282efcb?q=80&w=1500&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'); opacity:0.20; filter: blur(4px) grayscale(.05);}
  .parallax-layer.l2{background-image:url('https://images.unsplash.com/photo-1461749280684-dccba630e2f6?q=80&w=1469&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'); opacity:0.14;}
  .parallax-layer.l3{background-image:url('https://images.unsplash.com/photo-1547394765-185e1e68f34e?q=80&w=1470&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'); opacity:0.08; filter:brightness(0.9);}

  /* Header floating glass */
  header.top {
    position:sticky; top:18px; z-index:40; backdrop-filter: blur(8px);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px; margin-bottom:22px; border:1px solid rgba(255,255,255,0.04);
    box-shadow: 0 8px 30px rgba(2,6,23,0.45);
    padding:14px 18px;
    display:flex; align-items:center; gap:16px; align-self:center;
    transition:transform .35s ease, box-shadow .35s ease, background .3s ease;
  }
  [data-theme="light"] header.top { background: rgba(255,255,255,0.9); border:1px solid rgba(12,20,40,0.04); box-shadow: 0 10px 30px rgba(6,30,70,0.06); }

  .logo {
    width:84px; height:84px; border-radius:14px; display:flex; align-items:center; justify-content:center; font-weight:800;
    background: linear-gradient(135deg,#1f6feb,#4fc3f7); color:#021024; font-size:28px;
    flex:0 0 84px;
  }
  .profile-photo {
    width: 84px;
    height: 84px;
    border-radius: 14px;
    position: relative;
    overflow: hidden;
    flex: 0 0 84px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg,#1f6feb,#4fc3f7);
    box-shadow: 0 6px 18px rgba(2,6,23,0.15);
    border: 1px solid rgba(255,255,255,0.06);
  }
  
  .profile-photo img {
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
    transition: transform .35s ease;
  }
  .profile-initials {
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:800;
    font-size:26px;
    color:#021024;
    background: linear-gradient(135deg,#1f6feb,#4fc3f7);
  }
  .profile-photo.has-image .profile-initials { opacity:0; transform:scale(.95); transition:opacity .25s ease, transform .25s ease; pointer-events:none; }
  .profile-photo:hover img { transform: scale(1.04); }
  @media (max-width:620px){
    .profile-photo { width:64px; height:64px; border-radius:12px; }
    .profile-initials { font-size:20px; }
  }
  
  .head-meta { display:flex; flex-direction:column; gap:4px; }
  .name { font-size:20px; font-weight:700; color:var(--text); }
  .role { font-size:13px; color:var(--muted); }

  .header-actions { margin-left:auto; display:flex; gap:8px; align-items:center; }
  .btn { cursor:pointer; padding:10px 14px; border-radius:10px; font-weight:600; border:0; background:var(--accent); color:white; box-shadow:0 6px 18px rgba(43,140,255,0.18); }
  .btn.ghost { background:transparent; color:var(--muted); border:1px solid rgba(255,255,255,0.04); }

  /* Navigation */
  nav.topnav { display:flex; gap:10px; margin-top:14px; align-items:center; flex-wrap:wrap; }
  nav.topnav a { padding:8px 10px; border-radius:10px; text-decoration:none; color:var(--muted); font-weight:600; font-size:13px; }
  nav.topnav a.active { color:var(--accent); background:var(--glass); }

  /* Glass card */
  .glass {
    background:var(--card); border-radius:16px; padding:26px; margin:28px 0; border:1px solid rgba(255,255,255,0.03);
    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
    transition: transform .35s ease, box-shadow .35s ease, opacity .4s ease;
    box-shadow: 0 8px 30px rgba(2,6,23,0.35);
  }
  .glass:hover{ transform: translateY(-6px); box-shadow: 0 16px 50px rgba(2,6,23,0.45); }

  h1.hero { font-size:32px; margin:6px 0; letter-spacing:-0.4px; background:linear-gradient(90deg,#93c5fd,#bde0ff); -webkit-background-clip:text; -webkit-text-fill-color:transparent; font-weight:800; }
  p.lead { color:var(--muted); margin:10px 0 0; font-size:15px; }

  /* Layout for CV content */
  .grid { display:grid; grid-template-columns: 1fr 340px; gap:22px; align-items:start; }
  @media (max-width:980px){ .grid { grid-template-columns: 1fr; } .header-actions { margin-top:10px; } }

  /* Experience items */
  .exp { margin-bottom:16px; padding-bottom:14px; border-bottom:1px dashed rgba(255,255,255,0.03); }
  .exp .meta { color:var(--muted); font-size:13px; margin-bottom:6px; font-weight:600; }
  .exp h4{ margin:2px 0 6px; font-size:16px; font-weight:700; }
  ul.bullets { margin:8px 0 0 18px; color:var(--muted) }

  /* Skills chips */
  .chips { display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
  .chip { padding:8px 12px; border-radius:999px; background:rgba(255,255,255,0.03); color:var(--muted); font-weight:600; font-size:13px; border:1px solid rgba(255,255,255,0.03); }

  /* Footer */
  footer{ margin-top:30px; display:flex; justify-content:space-between; align-items:center; gap:10px; color:var(--muted); font-size:13px; }
  .contact-links { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  .contact-links a{ display:inline-flex; gap:8px; align-items:center; padding:8px 12px; border-radius:10px; background:rgba(255,255,255,0.02); text-decoration:none; color:var(--text); border:1px solid rgba(255,255,255,0.03); font-weight:600; font-size:13px; }

  .footer-qr {
    margin-top: 40px;
    text-align: center;
    padding: 20px;
    border-radius: 16px;
    backdrop-filter: blur(15px);
    background: rgba(var(--card-bg-rgb), 0.3);
    border: 1px solid rgba(var(--border-color-rgb), 0.25);
  }
  
  .footer-qr img {
      width: 120px;
      height: 120px;
      object-fit: contain;
      margin-bottom: 10px;
  }
  
  .footer-qr p {
      font-size: 0.9rem;
      opacity: 0.8;
  }

  
  /* small responsive tweaks */
  @media (max-width:620px){
    .logo{width:64px;height:64px;font-size:22px}
    .grid{gap:16px}
  }

  /* animation initial states */
  .anim-hidden{opacity:0; transform:translateY(18px); transition:all .7s cubic-bezier(.2,.9,.3,1);}
  .anim-show{opacity:1; transform:none;}
</style>
</head>
<body data-theme="dark">

<!-- Parallax layers -->
<div class="parallax-layer l1" id="p1" aria-hidden="true"></div>
<div class="parallax-layer l2" id="p2" aria-hidden="true"></div>
<div class="parallax-layer l3" id="p3" aria-hidden="true"></div>

<div class="container">

  <!-- Header (floating glass) -->
  <header class="top anim-hidden" id="header">
    <div class="logo profile-photo" aria-label="Foto de Rodolfo Pineda">
      <img id="profileImg" src="profile.jpg" alt="Foto de Rodolfo Pineda" />
    </div>
    <div class="head-meta">
      <div class="name">Rodolfo Felipe Pineda Mejía</div>
      <div class="role">Ingeniero de Sistemas · Microsoft Full-Stack · Diseño de Arquitectura de Software · Gerencia de Proyectos Tecnológico · IA Organizacional y Automatización Empresarial</div>
    </div>

    <div class="header-actions" role="toolbar" aria-label="Acciones">
      <button class="btn" id="downloadBtn" title="Descargar HTML">Descargar HTML</button>
      <button class="btn ghost" id="printBtn" title="Imprimir">Imprimir / PDF</button>
      <button class="btn ghost" id="themeBtn" title="Cambiar tema">Tema</button>
    </div>
  </header>

  <nav class="topnav anim-hidden" id="nav" aria-label="Navegación">
    <a href="#perfil" class="active">Perfil</a>
    <a href="#experiencia">Experiencia</a>
    <a href="#proyectos">Proyectos</a>
    <a href="#formacion">Formación</a>
    <a href="#cursos">Cursos</a>
    <a href="#skills">Habilidades</a>
    <a href="#referencias">Referencias</a>
    <a href="#contacto">Contacto</a>
  </nav>

  <!-- Main content grid -->
  <main class="anim-hidden" id="main" role="main" tabindex="-1">

    <!-- Hero / Executive summary -->
    <section id="perfil" class="glass anim-hidden" aria-labelledby="perfilTitle">
      <h1 id="perfilTitle" class="hero">Ingeniero de Sistemas | Microsoft Full-Stack | Diseño de Arquitectura de Software | Gerencia de Proyectos Tecnológico | IA Organizacional y Automatización Empresarial</h1>
      <p class="lead">Ingeniero de Sistemas con más de 10 años liderando modernización tecnológica, arquitecturas escalables y direccionando productos que combinan <strong>.NET moderno, Azure, MAUI/Blazor y Sistemas de Inteligencia Artificial Organizacional</strong>. Mi enfoque conecta tecnología con los objetivos estratégicos del negocio, priorizando seguridad, escalabilidad y velocidad de entrega.</p>
      <div style="margin-top:14px; display:flex; gap:10px; align-items:center;">
        <a class="btn" href="#experiencia">Ver experiencia</a>
        <a class="btn ghost" href="#contacto" style="background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04)">Contactar</a>
      </div>
    </section>

    <!-- Grid: main + sidebar -->
    <div class="grid" role="region" aria-label="Contenido principal">

      <!-- Left main column: detailed CV -->
      <div>

        <!-- Experience full detailed -->
        <section id="experiencia" class="glass anim-hidden" aria-labelledby="expTitle">
          <h2 id="expTitle" style="margin:0 0 8px 0">Experiencia Profesional</h2>

          <!-- AIMCORP -->
          <article class="exp" aria-labelledby="aimcorpTitle">
            <div class="meta">AIMCORP – Advanced Improvement Corporation · Ene. 2025 – Actualidad · Barranquilla</div>
            <h4 id="aimcorpTitle">Gerente de Producto · Arquitecto de Software / Líder de IA Organizacional</h4>
            <p class="muted" style="color:var(--muted)">Responsable de la evolución tecnológica completa de la compañía, liderando la transición del ecosistema a .NET 10, MAUI, Blazor y una arquitectura modular avanzada que sirve como base común para todos los productos corporativos.</p>
            <ul class="bullets">
              <li>Diseño y dirección de una arquitectura compartida que permite crecimiento exponencial y coherencia entre productos.</li>
              <li><strong>Liderazgo técnico en 4 productos principales</strong>strong>: AIM Elite, BoxAPI, WLS – WorldLogistics System y AIMCorp Hub.</li>
              <li>Desarrollo de aplicaciones móviles con .NET MAUI y frontends Blazor; APIs REST para cada producto.</li>
              <li>Implementación del programa de <strong>IA Organizacional</strong>: agentes IA basados en Azure OpenAI, automatización cognitiva, pipelines de aprendizaje y generación dinámica de informes.</li>
              <li>Modelo centralizado de desarrollo (single codebase patterns) que acelera entregas y reduce costos.</li>
            </ul>
          </article>

          <!-- AGTI -->
          <article class="exp" aria-labelledby="agtiTitle">
            <div class="meta">Alta Gerencia de Tecnología Informática (AGTI) · Abr. 2018 – Ene. 2025</div>
            <h4 id="agtiTitle">Gerente de Producto / Líder de Desarrollo Senior · Arquitecto de Software</h4>
            <p class="muted" style="color:var(--muted)">Conduje la modernización tecnológica completa de la empresa, transformando front-end y back-end hacia tecnologías Microsoft modernas, y construyendo la base para productos estratégicos.</p>
            <ul class="bullets">
              <li>Migración progresiva a .NET Core / Blazor y estandarización de prácticas de desarrollo.</li>
              <li>Creación de la plataforma base para LinkerBox y AIM Elite, optimizando recursos y tiempos de despliegue.</li>
              <li>Implementaciones y personalizaciones para clientes como <strong>Grupo ISA Transelca, Jamar, Medihelp, Procaps, Royal Films, Cementera San Marcos, Carnes Santacruz y más.</strong>strong></li>
              <li>Estandarización de pipelines CI/CD con Azure DevOps y mejora de estabilidad en despliegues IIS.</li>
            </ul>
          </article>

          <!-- Serfinansa -->
          <article class="exp" aria-labelledby="serfinTitle">
            <div class="meta">Banco Serfinansa S.A. · Ene. 2015 – Abr. 2018 · Barranquilla</div>
            <h4 id="serfinTitle">Desarrollador Senior – Analista de Sistemas</h4>
            <p class="muted" style="color:var(--muted)">Líder técnico en proyectos core y SIG, con foco en estabilidad y continuidad operativa durante una transición crítica del core bancario.</p>
            <ul class="bullets">
              <li>Lideré el desarrollo del core de la <strong>Tarjeta de Crédito Olímpica</strong>strong>: procesos de facturación, pagos, cierres y cálculos financieros.</li>
              <li>Desarrollos y mantenimiento del SIG antes del nuevo core bancario.</li>
              <li>Tecnologías: DB2, Informix, 4GL, ILE RPG, Web Services SOAP/REST y AS/400.</li>
            </ul>
          </article>

          <!-- Universidad del Norte -->
          <article class="exp" aria-labelledby="uninorteTitle">
            <div class="meta">Universidad del Norte / Proyecto Arquimet (ACESCO) · Nov. 2013 – Ene. 2015</div>
            <h4 id="uninorteTitle">Desarrollador .NET – C# / DevExpress</h4>
            <p class="muted" style="color:var(--muted)">Desarrollo del sistema Arquimet 3.0: Proyecto estructural 3D en WinForms</p>
          </article>

          <!-- Hilti / TodoLamina -->
          <article class="exp" aria-labelledby="hiltiTitle">
            <div class="meta">HILTI Colombia / Todo Lámina – Soporte Técnico (prestación de servicios) · 2012 – 2014</div>
            <h4 id="hiltiTitle">Técnico Informático / Soporte</h4>
            <p class="muted" style="color:var(--muted)">Soporte de infraestructura, mantenimiento de estaciones, redes y asesoría tecnológica a usuarios.</p>
          </article>
        </section>

        <!-- Projects section -->
        <section id="proyectos" class="glass anim-hidden" aria-labelledby="projTitle">
          <h2 id="projTitle" style="margin:0 0 8px 0">Proyectos Relevantes</h2>
          <ul class="bullets">
            <li><strong>Core Tarjeta Olímpica (Serfinansa)</strong> — Desarrollo y operación de módulo core para tarjeta de crédito con integración a cauces transaccionales.</li>
            <li><strong>Arquitectura común para productos AGTI / AIMCorp</strong> — Base centralizada que soporta LinkerBox, AIM Elite y productos a medida para clientes corporativos.</li>
            <li><strong>AIMCorp Ecosystem</strong> — Diseño y construcción de AIM Elite, BoxAPI, WLS y AIMCorp Hub con MAUI/Blazor, APIs REST y agentes IA integrados.</li>
            <li><strong>IA Organizacional</strong> — Programa de integración de Azure OpenAI: agentes, automatización, generación de informes y analítica interna.</li>
          </ul>
        </section>

        <!-- Education -->
        <section id="formacion" class="glass anim-hidden" aria-labelledby="eduTitle">
          <h2 id="eduTitle" style="margin:0 0 8px 0">Formación Académica</h2>
          <p><strong>Ingeniería de Sistemas y Computación</strong><br>Fundación / Universidad del Norte — Barranquilla (2009 – 2014)</p>
        </section>

        <!-- Courses -->
        <section id="cursos" class="glass anim-hidden" aria-labelledby="coursesTitle">
          <h2 id="coursesTitle" style="margin:0 0 8px 0">Cursos y Certificaciones</h2>
          <ul class="bullets">
            <li>Máster en Blazor – Server y WebAssembly (.NET 9) — Udemy</li>
            <li>Curso de .NET MAUI con Visual Studio – Creación de Proyectos — Udemy</li>
            <li>Arquitectura de Aplicaciones Empresariales con .NET 9 — Udemy</li>
          </ul>
        </section>

      </div>

      <!-- Right sidebar -->
      <aside>

        <div class="glass anim-hidden" aria-labelledby="contactTitle">
          <h3 id="contactTitle" style="margin:0 0 8px 0">Contacto</h3>
          <p class="muted" style="color:var(--muted); margin:0 0 12px 0">Barranquilla, Colombia</p>
          <div style="display:flex; flex-direction:column; gap:8px;">
            <a class="contact-links" href="https://www.linkedin.com/in/tuusuario" target="_blank" style="text-decoration:none;color:inherit">
              <span style="font-weight:700">LinkedIn:</span>&nbsp;<span style="color:var(--muted)">linkedin.com/in/tuusuario</span>
            </a>
            <a href="https://wa.me/573001234567" target="_blank" style="text-decoration:none;color:inherit">
              <span style="font-weight:700">WhatsApp / Tel:</span>&nbsp;<span style="color:var(--muted)">+57 300 123 4567</span>
            </a>
            <a href="mailto:tucorreo@dominio.com" style="text-decoration:none;color:inherit">
              <span style="font-weight:700">Email:</span>&nbsp;<span style="color:var(--muted)">tucorreo@dominio.com</span>
            </a>
          </div>

          <div style="margin-top:14px; border-top:1px solid rgba(255,255,255,0.03); padding-top:14px;">
            <h4 style="margin:0 0 6px 0">Habilidades</h4>
            <div class="chips">
              <span class="chip">C# / .NET 6–10</span>
              <span class="chip">Blazor (Server/WASM)</span>
              <span class="chip">MAUI</span>
              <span class="chip">Azure / DevOps</span>
              <span class="chip">APIs REST</span>
              <span class="chip">Azure OpenAI / IA</span>
              <span class="chip">SQL Server / DB2</span>
              <span class="chip">Clean Architecture / DDD</span>
            </div>
          </div>
        </div>

        <div class="glass anim-hidden" style="margin-top:18px;">
          <h4 style="margin:0 0 12px 0">Referencias Profesionales</h4>
          <ul style="margin:0; padding-left:18px; color:var(--muted);">
            <li><strong>Ing. Mauricio Pimienta</strong> — HILTI Colombia · Tel: 312 691 6737</li>
            <li><strong>Rubén Darío Mejía</strong> — Todolámina y Cía S.A. · Tel: 321 691 6732 / 360 4820</li>
            <li><strong>Ing. José Márquez Díaz</strong> — Universidad del Norte · jmarquez@uninorte.edu.co · Tel: 321 691 6732</li>
            <li><strong>Ing. Leonardo Campo Benavides</strong> — Serfinansa · lcampo@serfinansa.com.co · Tel: 321 568 7326</li>
            <li><strong>Ing. Baldwin Montes</strong> — AGTi · baldwin.montes@aimcorp.com.co · Tel: 300 586 5142</li>
            <li><strong>Ing. Rolando Castañeda</strong> — WYL · rcastaneda@wyl.com.co · Tel: 310 6343 726</li>
            <li><strong>Ing. Franklin Avendaño</strong> — AimCorp · franklin.avendano@aimcorp.com.co · Tel: 319 511 3410</li>
          </ul>
        </div>
      </aside>

    </div> <!-- end grid -->

    <!-- Skills (wide) -->
    <section id="skills" class="glass anim-hidden" style="margin-top:22px;">
      <h2 style="margin:0 0 8px 0">Resumen Técnico</h2>
      <p class="muted" style="color:var(--muted)">Stack principal, patrones arquitectónicos y herramientas de gestión.</p>
      <div class="chips" style="margin-top:12px;">
        <span class="chip">.NET 6–10</span>
        <span class="chip">C# / Blazor / MAUI</span>
        <span class="chip">Azure (OpenAI, Functions, App Services)</span>
        <span class="chip">Azure DevOps / CI-CD</span>
        <span class="chip">SQL Server / MySQL / DB2</span>
        <span class="chip">DDD / Clean Architecture / Microservicios</span>
        <span class="chip">Scrum / Gestión de Producto</span>
      </div>
    </section>

    <!-- References and footer / contact -->
    <section id="referencias" class="glass anim-hidden" style="margin-top:22px;">
      <h2 style="margin:0 0 8px 0">Referencias & Certificación</h2>
      <p class="muted" style="color:var(--muted)">Referencias profesionales disponibles y certificaciones:</p>
      <ul class="bullets">
        <li>TOEFL iBT – Inglés B2 (Universidad del Norte)</li>
        <li>Udemy: Máster en Blazor; Curso .NET MAUI; Arquitectura de Aplicaciones Empresariales</li>
      </ul>
    </section>

    <!-- Contact final -->
    <section id="contacto" class="glass anim-hidden" style="margin-top:22px;">
      <h2 style="margin:0 0 8px 0">Contacto</h2>
      <div style="display:flex; gap:12px; flex-wrap:wrap;">
        <a class="contact-links" href="https://www.linkedin.com/in/rodolfo-felipe-pineda-mejia-09b745227/" target="_blank">LinkedIn</a>
        <a class="contact-links" href="https://wa.me/573508332649" target="_blank">WhatsApp / Llamar</a>
        <a class="contact-links" href="mailto:rfpineda1604@gmail.com">Email</a>
      </div>
    </section>

    <footer style="margin-top:26px; padding-bottom:18px;">
      <div style="color:var(--muted)">CV — Creado por Rodolfo Felipe Pineda Mejía</div>
      <div style="display:flex; gap:10px; margin-top:8px;">
        <button class="btn" id="downloadHtml">Descargar HTML</button>
        <button class="btn ghost" id="printPage" style="background:transparent;color:var(--muted);border:1px solid rgba(255,255,255,0.04)">Imprimir / PDF</button>
      </div>
      <div class="footer-qr">
          <img src="qr-linkedin.png" alt="QR LinkedIn Rodolfo Pineda">
          <p>Escanea para ver mi perfil en LinkedIn</p>
      </div>
    </footer>

  </main>
</div>

<script>
/* ---------------- LENIS smooth scroll ---------------- */
const lenis = new Lenis({
  duration: 1.2,
  easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t))
});
function raf(time){ lenis.raf(time); requestAnimationFrame(raf); }
requestAnimationFrame(raf);

/* ---------------- Parallax multi-layer ---------------- */
const p1 = document.getElementById('p1'), p2 = document.getElementById('p2'), p3 = document.getElementById('p3');
window.addEventListener('scroll', () => {
  const sc = window.scrollY || window.pageYOffset;
  if(p1) p1.style.transform = `translate3d(-50%, calc(-50% + ${sc * 0.03}px), 0) scale(1.08)`; // slowest
  if(p2) p2.style.transform = `translate3d(-50%, calc(-50% + ${sc * 0.06}px), 0) scale(1.06)`;
  if(p3) p3.style.transform = `translate3d(-50%, calc(-50% + ${sc * 0.10}px), 0) scale(1.04)`; // faster
});

/* ---------------- Scroll-triggered animations (IntersectionObserver) ---------------- */
const animTargets = document.querySelectorAll('.anim-hidden');
const io = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if(e.isIntersecting){
      e.target.classList.add('anim-show'); e.target.classList.remove('anim-hidden');
    }
  });
},{threshold:0.12});
animTargets.forEach(t => io.observe(t));

/* ---------------- Header small show effect ---------------- */
const header = document.getElementById('header');
let lastScroll = 0;
window.addEventListener('scroll', ()=> {
  const st = window.scrollY || window.pageYOffset;
  if(header){
    if(st > lastScroll && st > 80) header.style.transform = 'translateY(-8px) scale(.995)';
    else header.style.transform = 'translateY(0) scale(1)';
  }
  lastScroll = st <= 0 ? 0 : st;
});

/* ---------------- Theme toggle with persistence ---------------- */
const body = document.body;
const themeKey = 'cv_theme';
const btnTheme = document.getElementById('themeBtn');
function applyTheme(theme){
  document.body.setAttribute('data-theme', theme);
  try{ localStorage.setItem(themeKey, theme); } catch(e){ /* ignore */ }
}
(function initTheme(){
  const saved = (function(){ try{ return localStorage.getItem(themeKey) } catch(e){ return null } })();
  if(saved) applyTheme(saved);
  else {
    // auto-detect user preference
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    applyTheme(prefersDark ? 'dark' : 'light');
  }
})();
if(btnTheme) btnTheme.addEventListener('click', ()=> {
  const current = document.body.getAttribute('data-theme') || 'dark';
  applyTheme(current === 'dark' ? 'light' : 'dark');
});

/* ---------------- Download / Print handlers ---------------- */
const downloadHtmlBtn = document.getElementById('downloadHtml');
if(downloadHtmlBtn){
  downloadHtmlBtn.addEventListener('click', ()=>{
    const html = '<!doctype html>\\n' + document.documentElement.outerHTML;
    const blob = new Blob([html], {type:'text/html'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = 'Rodolfo_Pineda_CV_interactivo.html';
    document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
  });
}
const btnDownloadTop = document.getElementById('downloadBtn');
if(btnDownloadTop) btnDownloadTop.addEventListener('click', ()=> downloadHtmlBtn && downloadHtmlBtn.click());

const printTop = document.getElementById('printBtn');
if(printTop) printTop.addEventListener('click', ()=> window.print());
const printPage = document.getElementById('printPage');
if(printPage) printPage.addEventListener('click', ()=> window.print());

/* ---------------- Nav smooth anchors + active state ---------------- */
document.querySelectorAll('nav.topnav a').forEach(a => {
  a.addEventListener('click', (ev) => {
    ev.preventDefault();
    const target = document.querySelector(a.getAttribute('href'));
    if(target) target.scrollIntoView({behavior:'smooth', block:'start'});
    document.querySelectorAll('nav.topnav a').forEach(x => x.classList.remove('active'));
    a.classList.add('active');
  });
});

/* ---------------- Accessibility: keyboard focus ring ---------------- */
document.addEventListener('keydown', (e) => {
  if(e.key === 'Tab') document.body.classList.add('user-is-tabbing');
});
</script>
</body>
</html>
